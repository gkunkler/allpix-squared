[Allpix]
log_level = "STATUS" #"STATUS"
log_format = "DEFAULT" #"DEFAULT"
detectors_file = "detector_temp.conf" #"detector.conf"
number_of_events = 3850
output_directory = "output/MAXIV_confirm_withRecomb/16-perStep_noCR_multithread_1e-06limit/35keV/250V/250um"
random_seed = 19383249127
multithreading = true

#random_seed = 1	
#skip_events = 1980

[GeometryBuilderGeant4]
world_material = air

[DepositionGeant4]
physics_list = FTFP_BERT_PEN
record_all_tracks = true
number_of_particles = 1

#source_type = "macro"
#file_name = 140kVp_0p8mmBe_5p33Al_300mmADI-ICRP_temp.mac
#max_step_length = 0.1um #0.1um

#[Ignore]
particle_type = "gamma"
source_energy = 35keV #35keV
source_position = -0.55um 250um -20000um #0um 250um -20000um
source_type = beam #"beam"
beam_shape = ellipse #"ellipse"
beam_size = 14.2702um, 10.7615um #14.13um, 14.13um
beam_direction = 0 0 1 #0 0 1


[ElectricFieldReader]
#name = "detector1"
model = "mesh"
field_depth = 650um
file_name = "/home/rickard/Documents/allpix_sims/non_descript-test/fields/14um/MAXIV/confirmation/E_field_NEW_Guard_1umSamplingX_1umSamplingY_1umSamplingZ_2PixelsPlus1excess-2x504plus1x329-8x499x0Electrodes_frontAt250V_allRowsGrounded.init"
field_mapping = PIXEL_FULL #"PIXEL_FULL"
log_level = "INFO"
output_plots = 1
output_plots_single_pixel = false
output_plots_project = z
output_plots_projection_percentage = 0.999

[WeightingPotentialReader]
#name = "detector1"
model = "mesh"
file_name = "/home/rickard/Documents/allpix_sims/non_descript-test/fields/14um/MAXIV/confirmation/W_potential_NEW_14umPitch_1umSamplingX_1umSamplingY_1umSamplingZ_5Wide_329P2x504_10x501x5Electrodes.init"
field_mapping = "PIXEL_FULL"
log_level = "INFO"
output_plots = 1
output_plots_zcut = 324um

[DopingProfileReader]
model = "constant"
doping_concentration  = 3.08222e+11/cm/cm/cm

[TransientPropagation]
#log_level = "DEBUG"
temperature = 293K
mobility_model = "canali"
charge_per_step = 16
timestep = 0.1ns #0.05ns
integration_time = 100ns #50ns
max_charge_groups = 0
distance = 2 #2 #Used for transient propagation
surface_reflectivity = 1.0
output_plots = 1
recombination_model = srh

[Ignore]
temperature = 293K
mobility_model = "canali"
charge_per_step = 16
timestep = 0.1ns #0.05ns
integration_time = 100ns #50ns
max_charge_groups = 1000000
distance = 2 #2 #Used for transient propagation
surface_reflectivity = 1.0
relative_permativity = 11.7
enable_diffusion = 1
enable_coulomb_repulsion = 0
coulomb_threshold = 1e-06 #This is in mm
coulomb_field_limit = 400000.0
recombination_model = srh

output_plots = 1
output_rms = 0
output_plots_step = 0.5 # Affects the time duration between log printing and RMS calculations




[Ignore]

output_linegraphs = true
output_plots_align_pixels = true
output_linegraphs_collected = true
output_linegraphs_recombined = true
output_linegraphs_trapped = true


[PulseTransfer]
[Ignore]
output_plots = 1
output_pulsegraphs = true

#[Ignore]
[DefaultDigitizer]
electronics_noise = 0e
threshold = 0e
threshold_smearing = 0e
qdc_smearing = 0e

[Ignore]
#[DetectorHistogrammer]
name = "detector1"

# replace by [VisualizationGeant4] to run the visualization
[Ignore]
#[VisualizationGeant4]
mode = "gui"
view_style = "surface"#"wireframe"
opacity = 0.1
simple_view = 0
accumulate = true

[ROOTObjectWriter]
exclude = PropagatedCharge#, DepositedCharge
